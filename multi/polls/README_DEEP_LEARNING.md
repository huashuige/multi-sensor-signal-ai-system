# 深度学习模块

## 概述

深度学习模块是多信息模式系统的重要组成部分，用于对监控模块采集的数据进行深度学习和智能分析。该模块支持从监控数据创建训练数据集、训练深度学习模型、进行预测和评估等功能。

## 功能特性

### 1. 数据管理
- **数据源管理**: 自动识别和导入监控模块保存的CSV数据文件
- **数据预处理**: 支持多种数据归一化方法（Min-Max、Z-Score、Robust标准化）
- **特征工程**: 支持时间域特征、频域特征、统计特征的提取
- **数据集分割**: 可配置的训练集、验证集、测试集比例划分

### 2. 模型训练
- **模型类型**: 支持多种深度学习模型
  - 卷积神经网络 (CNN)
  - 循环神经网络 (RNN)
  - 长短期记忆网络 (LSTM)
  - 门控循环单元 (GRU)
  - Transformer
- **超参数配置**: 学习率、批次大小、训练轮数等可调参数
- **训练监控**: 实时显示训练损失、准确率等指标
- **模型保存**: 自动保存训练好的模型

### 3. 预测评估
- **模型预测**: 使用训练好的模型进行预测
- **性能评估**: 准确率、精确率、召回率等评估指标
- **结果可视化**: 预测结果的可视化展示

### 4. 模型管理
- **模型列表**: 查看所有已训练的模型
- **模型比较**: 比较不同模型的性能
- **模型部署**: 将模型部署到生产环境

## 技术架构

### 前端
- **框架**: HTML5 + CSS3 + JavaScript
- **UI库**: Tailwind CSS
- **图表**: ECharts (用于训练过程和数据可视化)
- **交互**: 异步AJAX请求

### 后端
- **框架**: Django 4.x
- **数据库**: SQLite (开发环境)
- **API**: RESTful API设计
- **数据处理**: NumPy, Pandas, Scikit-learn

### 深度学习
- **框架**: TensorFlow/Keras 或 PyTorch (待实现)
- **数据处理**: NumPy, Pandas
- **特征工程**: Scikit-learn
- **模型评估**: Scikit-learn

## API接口

### 数据管理API
- `GET /api/get-monitor-data-for-dl/` - 获取可用于深度学习的监控数据
- `POST /api/create-dataset/` - 创建深度学习数据集

### 模型训练API
- `POST /api/start-training/` - 开始模型训练
- `GET /api/get-training-status/` - 获取训练状态

### 预测评估API
- `POST /api/start-prediction/` - 开始模型预测
- `GET /api/get-trained-models/` - 获取已训练的模型列表

## 数据流程

### 1. 数据导入流程
```
监控模块CSV文件 → 数据验证 → 特征提取 → 数据预处理 → 数据集创建
```

### 2. 模型训练流程
```
数据集 → 模型配置 → 训练开始 → 训练监控 → 模型保存
```

### 3. 预测评估流程
```
输入数据 → 模型加载 → 数据预处理 → 模型预测 → 结果评估
```

## 使用指南

### 1. 数据准备
1. 在监控模块中采集数据并保存为CSV文件
2. 在深度学习模块中点击"刷新数据源"按钮
3. 选择需要的数据文件进行导入

### 2. 数据集创建
1. 在"数据管理"标签页中选择数据源
2. 配置数据分割比例（训练集/验证集/测试集）
3. 选择数据归一化方法
4. 选择需要提取的特征类型
5. 点击"创建数据集"按钮

### 3. 模型训练
1. 在"模型训练"标签页中选择数据集
2. 选择模型类型（CNN、RNN、LSTM等）
3. 配置超参数（学习率、批次大小、训练轮数）
4. 点击"开始训练"按钮
5. 监控训练过程

### 4. 预测评估
1. 在"预测评估"标签页中选择训练好的模型
2. 选择输入数据
3. 点击"开始预测"按钮
4. 查看预测结果和评估指标

## 开发计划

### 第一阶段 (已完成)
- [x] 基础UI框架搭建
- [x] 数据管理界面
- [x] 模型训练界面
- [x] 预测评估界面
- [x] 基础API接口

### 第二阶段 (进行中)
- [ ] 数据预处理功能实现
- [ ] 特征工程功能实现
- [ ] 数据集创建功能实现
- [ ] 基础模型训练功能

### 第三阶段 (计划中)
- [ ] 深度学习框架集成
- [ ] 模型训练功能完善
- [ ] 预测功能实现
- [ ] 模型管理功能

### 第四阶段 (计划中)
- [ ] 高级特征工程
- [ ] 模型优化和调参
- [ ] 模型部署功能
- [ ] 性能优化

## 注意事项

1. **数据格式**: 确保监控数据CSV文件格式正确，包含时间轴和通道数据
2. **内存使用**: 大数据集训练时注意内存使用情况
3. **训练时间**: 深度学习模型训练可能需要较长时间，请耐心等待
4. **模型保存**: 训练完成后及时保存模型，避免数据丢失

## 故障排除

### 常见问题
1. **数据加载失败**: 检查CSV文件路径和格式
2. **训练失败**: 检查数据集大小和模型参数配置
3. **预测失败**: 确保模型文件存在且格式正确

### 日志查看
- 后端日志: 查看Django服务器日志
- 前端日志: 打开浏览器开发者工具查看控制台

## 贡献指南

欢迎提交Issue和Pull Request来改进深度学习模块。

### 开发环境设置
1. 克隆项目代码
2. 安装Python依赖: `pip install -r requirements.txt`
3. 运行Django服务器: `python manage.py runserver`
4. 访问深度学习模块: `http://localhost:8000/polls/deep-learning/`

### 代码规范
- 遵循PEP 8 Python代码规范
- 使用有意义的变量和函数名
- 添加适当的注释和文档字符串
- 编写单元测试

## 许可证

本项目采用MIT许可证，详见LICENSE文件。 